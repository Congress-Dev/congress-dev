warning: LF will be replaced by CRLF in frontend/start.sh.
The file will have its original line endings in your working directory.
[1mdiff --git a/.docker/docker-compose.yml b/.docker/docker-compose.yml[m
[1mindex 4c597bf..21d14c1 100644[m
[1m--- a/.docker/docker-compose.yml[m
[1m+++ b/.docker/docker-compose.yml[m
[36m@@ -18,9 +18,6 @@[m [mservices:[m
     - ../backend:/usr/src/app/[m
     ports:[m
     - "9090:9090"[m
[31m-    entrypoint:[m
[31m-      - "bash"[m
[31m-      - "start.sh"[m
     depends_on:[m
       - congress_postgres[m
     networks:[m
[36m@@ -31,18 +28,17 @@[m [mservices:[m
     stdin_open: true[m
     environment:[m
     - STAGE=dev[m
[32m+[m[32m    - CHOKIDAR_USEPOLLING=true[m
     build:[m
       context: ../frontend[m
       dockerfile: .docker/Dockerfile[m
     volumes:[m
[31m-    - ../frontend:/usr/src/app[m
[32m+[m[32m    - ../frontend/public:/usr/src/app/public[m
[32m+[m[32m    - ../frontend/src:/usr/src/app/src[m
     ports:[m
     - "80:3000"[m
     networks:[m
       parser:[m
[31m-    entrypoint:[m
[31m-    - "bash"[m
[31m-    - "start.sh"[m
   # nginx:[m
   #   image: nginx[m
   #   ports:[m
[36m@@ -63,7 +59,7 @@[m [mservices:[m
       POSTGRES_USER: parser[m
       POSTGRES_DB: us_code[m
     volumes:[m
[31m-      - /opt/congress/postgres:/var/lib/postgresql/data[m
[32m+[m[32m      - ../volumes/postgres:/var/lib/postgresql/data[m
     networks:[m
       parser:[m
 networks:[m
[1mdiff --git a/.gitignore b/.gitignore[m
[1mindex c4fac4e..315c97c 100644[m
[1m--- a/.gitignore[m
[1m+++ b/.gitignore[m
[36m@@ -1,2 +1,3 @@[m
 **.pyc[m
 **/node_modules[m
[32m+[m[32mvolumes/[m
\ No newline at end of file[m
[1mdiff --git a/backend/.docker/Dockerfile b/backend/.docker/Dockerfile[m
[1mindex 8cd8200..4e71991 100644[m
[1m--- a/backend/.docker/Dockerfile[m
[1m+++ b/backend/.docker/Dockerfile[m
[36m@@ -1,4 +1,4 @@[m
[31m-from python:3.7.4-slim-stretch[m
[32m+[m[32mFROM python:3.7.4-slim-stretch[m
 [m
 RUN apt update[m
 RUN apt install wget -y[m
[36m@@ -11,4 +11,6 @@[m [mWORKDIR /usr/src/app[m
 [m
 EXPOSE 9090[m
 EXPOSE 80[m
[31m-ENTRYPOINT ["bash"][m
\ No newline at end of file[m
[32m+[m
[32m+[m[32mENTRYPOINT "python"[m
[32m+[m[32mCMD ["-m", "billparser"][m
\ No newline at end of file[m
[1mdiff --git a/backend/.docker/docker-compose.yaml b/backend/.docker/docker-compose.yaml[m
[1mdeleted file mode 100644[m
[1mindex 53549d9..0000000[m
[1m--- a/backend/.docker/docker-compose.yaml[m
[1m+++ /dev/null[m
[36m@@ -1,25 +0,0 @@[m
[31m-version: '3'[m
[31m-services:[m
[31m-  parser_api:[m
[31m-    tty: true[m
[31m-    stdin_open: true[m
[31m-    environment:[m
[31m-    - STAGE=dev[m
[31m-    - PORT=9090[m
[31m-    - db_host=10.0.0.174:5432[m
[31m-    - db_user=parser[m
[31m-    - db_pass=parser[m
[31m-    - db_table=us_code[m
[31m-    build:[m
[31m-      context: ../[m
[31m-      dockerfile: .docker/Dockerfile[m
[31m-    network_mode: "host"[m
[31m-    volumes:[m
[31m-    - ../:/usr/src/app/[m
[31m-    ports:[m
[31m-    - "9090:9090"[m
[31m-    entrypoint:[m
[31m-      - "bash"[m
[31m-volumes:[m
[31m-  parser-pg-data:[m
[31m-    driver: local[m
\ No newline at end of file[m
[1mdiff --git a/backend/start.sh b/backend/start.sh[m
[1mdeleted file mode 100644[m
[1mindex fc7fbf3..0000000[m
[1m--- a/backend/start.sh[m
[1m+++ /dev/null[m
[36m@@ -1 +0,0 @@[m
[31m-python3 -m billparser[m
\ No newline at end of file[m
[1mdiff --git a/frontend/.docker/Dockerfile b/frontend/.docker/Dockerfile[m
[1mindex ce77c69..6d0d4dd 100644[m
[1m--- a/frontend/.docker/Dockerfile[m
[1m+++ b/frontend/.docker/Dockerfile[m
[36m@@ -1,12 +1,14 @@[m
 FROM node[m
 [m
 RUN curl -o- -L https://yarnpkg.com/install.sh | bash[m
[31m-WORKDIR /usr/src/app[m
 [m
[32m+[m[32mCOPY package.json /usr/src/app/package.json[m
 COPY yarn.lock /usr/src/app/yarn.lock[m
[32m+[m[32mWORKDIR /usr/src/app[m
 RUN yarn install[m
 [m
[31m-COPY . /usr/src/app[m
[31m-[m
[32m+[m[32mCOPY ./src /usr/src/app/src[m
[32m+[m[32mCOPY ./public /usr/src/app/public[m
[32m+[m[32mCOPY ./start.sh /usr/src/app/start.sh[m
 [m
[31m-ENTRYPOINT [ "bash" ][m
\ No newline at end of file[m
[32m+[m[32mENTRYPOINT ["bash", "start.sh"][m
\ No newline at end of file[m
[1mdiff --git a/frontend/.docker/docker-compose.yaml b/frontend/.docker/docker-compose.yaml[m
[1mdeleted file mode 100644[m
[1mindex e20cd4a..0000000[m
[1m--- a/frontend/.docker/docker-compose.yaml[m
[1m+++ /dev/null[m
[36m@@ -1,33 +0,0 @@[m
[31m-version: "3"[m
[31m-services:[m
[31m-  viewer_app:[m
[31m-    tty: true[m
[31m-    stdin_open: true[m
[31m-    environment:[m
[31m-    - STAGE=dev[m
[31m-    build:[m
[31m-      context: ../[m
[31m-      dockerfile: .docker/Dockerfile[m
[31m-    volumes:[m
[31m-    - ../:/usr/src/app[m
[31m-    ports:[m
[31m-    - "80:3000"[m
[31m-    networks:[m
[31m-      parser:[m
[31m-    entrypoint:[m
[31m-    - "yarn"[m
[31m-    - "start"[m
[31m-  nginx:[m
[31m-    image: nginx[m
[31m-    ports:[m
[31m-      - 80:80[m
[31m-      - 443:443[m
[31m-    networks:[m
[31m-      parser:[m
[31m-    volumes:[m
[31m-      - /etc/letsencrypt:/etc/letsencrypt[m
[31m-      - ./nginx/:/etc/nginx/sites-enabled/[m
[31m-networks:[m
[31m-  parser:[m
[31m-    external:[m
[31m-      name: docker_parser[m
\ No newline at end of file[m
